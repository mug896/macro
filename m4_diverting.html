<!DOCTYPE HTML>
<html lang="ko" >
    
    <head>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-161001174-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-161001174-6');
</script>

        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Diverting | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="./styles/website.css">
    

        
    
    
    <link rel="next" href="./m4_input_control.html" />
    
    
    <link rel="prev" href="./m4_conditionals_and_loops.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="3.5"
        data-chapter-title="Diverting"
        data-filepath="m4_diverting.md"
        data-basepath="."

        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="bug_reports.html">
            
                
                    <a href="./bug_reports.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Bug reports
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="cpp.html">
            
                
                    <a href="./cpp.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        CPP
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="macros.html">
            
                
                    <a href="./macros.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Macros
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="function-like_macros.html">
            
                
                    <a href="./function-like_macros.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.1.</b>
                        
                        Function-like Macros
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="one_two_hash.html">
            
                
                    <a href="./one_two_hash.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.2.</b>
                        
                        # , ##
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="variadic_macros.html">
            
                
                    <a href="./variadic_macros.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.3.</b>
                        
                        Variadic Macros
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="argument_prescan.html">
            
                
                    <a href="./argument_prescan.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.4.</b>
                        
                        Argument Prescan
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="predefined_macros.html">
            
                
                    <a href="./predefined_macros.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.5.</b>
                        
                        Predefined Macros
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="conditionals.html">
            
                
                    <a href="./conditionals.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Conditionals
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="diagnostics.html">
            
                
                    <a href="./diagnostics.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Diagnostics
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="line_control.html">
            
                
                    <a href="./line_control.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Line Control
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="pragmas.html">
            
                
                    <a href="./pragmas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Pragmas
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="command_line_options.html">
            
                
                    <a href="./command_line_options.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Command-line options
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="m4.html">
            
                
                    <a href="./m4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        M4
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="m4_quotes.html">
            
                
                    <a href="./m4_quotes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Quotes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="m4_positional_parameters.html">
            
                
                    <a href="./m4_positional_parameters.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Positional Parameters
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="m4_local_variables.html">
            
                
                    <a href="./m4_local_variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Local Variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="m4_conditionals_and_loops.html">
            
                
                    <a href="./m4_conditionals_and_loops.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        Conditionals and Loops
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="3.5" data-path="m4_diverting.html">
            
                
                    <a href="./m4_diverting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                        Diverting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="m4_input_control.html">
            
                
                    <a href="./m4_input_control.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                        Input Control
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="m4_file_inclusion.html">
            
                
                    <a href="./m4_file_inclusion.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                        File Inclusion
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="m4_builtin_macros.html">
            
                
                    <a href="./m4_builtin_macros.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                        Built-in Macros
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.8.1" data-path="m4_arithmetic.html">
            
                
                    <a href="./m4_arithmetic.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.1.</b>
                        
                        Arithmatic
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8.2" data-path="m4_text_handling.html">
            
                
                    <a href="./m4_text_handling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.2.</b>
                        
                        Text Handling
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8.3" data-path="m4_shell_commands.html">
            
                
                    <a href="./m4_shell_commands.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.3.</b>
                        
                        Shell Commands
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.8.4" data-path="m4_miscellaneous.html">
            
                
                    <a href="./m4_miscellaneous.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.4.</b>
                        
                        Miscellaneous
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="m4_debugging.html">
            
                
                    <a href="./m4_debugging.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                        Debugging
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="diverting">Diverting</h1>
<p>&#xB9E4;&#xD06C;&#xB85C; &#xCE58;&#xD658; &#xC678;&#xC5D0; &#xD2B9;&#xC815; &#xC601;&#xC5ED;&#xC744; &#xB098;&#xC911; or &#xBA3C;&#xC800; &#xCD9C;&#xB825;&#xD558;&#xAC70;&#xB098; &#xB610;&#xB294; &#xCD9C;&#xB825;&#xC5D0;&#xC11C; &#xC81C;&#xC678;&#xD558;&#xB294; &#xB4F1;
&#xCD9C;&#xB825; &#xC870;&#xC808;&#xC774; &#xD544;&#xC694;&#xD560; &#xB54C;&#xAC00; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.
&#xC774;&#xC640; &#xAC19;&#xC740; &#xAE30;&#xB2A5;&#xC744; &#xC81C;&#xACF5;&#xD558;&#xB294; &#xAC83;&#xC774; diverting and undiverting &#xC785;&#xB2C8;&#xB2E4;.</p>
<h2 id="divert">divert</h2>
<blockquote>
<p><strong>divert</strong><br><strong>divert</strong> ( <em>Number</em> )  </p>
</blockquote>
<p>M4 &#xB294; &#xC5B8;&#xC81C;&#xB4E0;&#xC9C0; &#xCD9C;&#xB825;&#xC744; &#xC784;&#xC2DC; &#xC601;&#xC5ED;&#xC5D0; &#xC800;&#xC7A5;&#xD588;&#xB2E4;&#xAC00; &#xD544;&#xC694;&#xD560; &#xB54C; &#xCD9C;&#xB825;&#xD560; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.
&#xC784;&#xC2DC; &#xC601;&#xC5ED;&#xC740; &#xC591;&#xC758; &#xC815;&#xC218;&#xB85C; &#xB098;&#xD0C0;&#xB0B4;&#xB294;&#xB370; <code>0</code> &#xC740; &#xB514;&#xD3F4;&#xD2B8;&#xB85C; normal output stream &#xC744; &#xB098;&#xD0C0;&#xB0C5;&#xB2C8;&#xB2E4;.
&#xADF8;&#xB7EC;&#xB2C8;&#xAE4C; <code>divert(3)</code> &#xC73C;&#xB85C; &#xC784;&#xC2DC; &#xC601;&#xC5ED; <code>3</code> &#xC5D0; &#xCD9C;&#xB825;&#xC744; &#xC800;&#xC7A5;&#xD55C; &#xD6C4;&#xC5D0;
<code>divert(0)</code> &#xC744; &#xD558;&#xBA74; &#xB2E4;&#xC2DC; normal output stream &#xC73C;&#xB85C; &#xB3CC;&#xC544;&#xC640; &#xCD9C;&#xB825;&#xB418;&#xB294;&#xAC83;&#xC785;&#xB2C8;&#xB2E4;.
&#xC800;&#xC7A5;&#xD55C; &#xB0B4;&#xC6A9;&#xC744; &#xB098;&#xC911;&#xC5D0; &#xC9C1;&#xC811; undivert &#xB97C; &#xC774;&#xC6A9;&#xD574; &#xCD9C;&#xB825;&#xD558;&#xC9C0; &#xC54A;&#xC73C;&#xBA74; &#xC790;&#xB3D9;&#xC73C;&#xB85C; &#xB9C8;&#xC9C0;&#xB9C9;&#xC5D0;
undivert &#xB418;&#xC5B4; &#xCD9C;&#xB825;&#xB429;&#xB2C8;&#xB2E4;. &#xC774;&#xB54C; &#xCD9C;&#xB825;&#xC740; &#xBC88;&#xD638;&#xC21C;&#xC11C;&#xC5D0; &#xB530;&#xB77C; &#xCD9C;&#xB825;&#xB429;&#xB2C8;&#xB2E4;.</p>
<blockquote>
<p><code>()</code> &#xC5C6;&#xB294; <code>divert</code> &#xB294; <code>divert(0)</code> &#xC640; &#xAC19;&#xC2B5;&#xB2C8;&#xB2E4;.</p>
</blockquote>
<pre><code class="lang-bash">divert(-<span class="hljs-number">1</span>)      send to /dev/null
divert(<span class="hljs-number">0</span>)       send to stdout
divert(<span class="hljs-number">1</span>)       send to buffer <span class="hljs-comment">#1</span>
divert(<span class="hljs-number">2</span>)       send to buffer <span class="hljs-comment">#2</span>
divert(<span class="hljs-number">3</span>)       send to buffer <span class="hljs-comment">#3</span>
. . .
</code></pre>
<h4 id="&#xC544;&#xB798;&#xB294;-&#xD65C;&#xC6A9;&#xC608;-&#xC785;&#xB2C8;&#xB2E4;">&#xC544;&#xB798;&#xB294; &#xD65C;&#xC6A9;&#xC608; &#xC785;&#xB2C8;&#xB2E4;.</h4>
<ul>
<li><strong>divert</strong> : <code>divert(1)</code> &#xC5D0; &#xC758;&#xD574; AAA, BBB &#xB77C;&#xC778;&#xC774; &#xC784;&#xC2DC; &#xC601;&#xC5ED; <code>1</code> &#xC5D0; &#xC800;&#xC7A5;&#xB418;&#xACE0;
&#xB77C;&#xC778; 222 &#xB294; <code>divert(0)</code> &#xC5D0; &#xC758;&#xD574; normal output stream &#xC73C;&#xB85C; &#xCD9C;&#xB825;&#xB418;&#xBBC0;&#xB85C;
111, 222 &#xB77C;&#xC778;&#xC774; &#xBA3C;&#xC800; &#xCD9C;&#xB825;&#xB418;&#xACE0; &#xB098;&#xC911;&#xC5D0; AAA, BBB &#xB77C;&#xC778;&#xC774; &#xCD9C;&#xB825;&#xB429;&#xB2C8;&#xB2E4;.</li>
</ul>
<ul>
<li><strong>order</strong> : &#xB77C;&#xC778; BBB &#xB294; <code>divert(2)</code> &#xC5D0; &#xD574;&#xB2F9;&#xD558;&#xACE0; &#xB77C;&#xC778; AAA &#xB294; <code>divert(3)</code> &#xC5D0; &#xD574;&#xB2F9;&#xD558;&#xBBC0;&#xB85C;
&#xCD9C;&#xB825;&#xC2DC; BBB, AAA &#xB77C;&#xC778; &#xC21C;&#xC73C;&#xB85C; &#xCD9C;&#xB825;&#xB429;&#xB2C8;&#xB2E4;.</li>
</ul>
<ul>
<li><strong>append</strong> : &#xAC19;&#xC740; divert &#xBC88;&#xD638;&#xB97C; &#xC0AC;&#xC6A9;&#xD558;&#xBA74; &#xB0B4;&#xC6A9;&#xC774; append &#xB429;&#xB2C8;&#xB2E4;.
<code>divert(4)</code> &#xAC00; &#xB450; &#xAD70;&#xB370;&#xB85C; &#xBD84;&#xB9AC;&#xB418;&#xC5B4; &#xC788;&#xC9C0;&#xB9CC; &#xB0B4;&#xC6A9;&#xC774; append &#xB418;&#xC5B4; &#xD568;&#xAED8; &#xCD9C;&#xB825;&#xB429;&#xB2C8;&#xB2E4;.</li>
</ul>
<ul>
<li><strong>discard</strong> : &#xCD9C;&#xB825;&#xC744; &#xC800;&#xC7A5;&#xD560; &#xB54C; &#xC0AC;&#xC6A9;&#xD560; &#xC218; &#xC788;&#xB294; &#xBC88;&#xD638;&#xB294; &#xC591;&#xC758; &#xC815;&#xC218;&#xC774;&#xBBC0;&#xB85C;
&#xC74C;&#xC218;&#xB294; &#xCD9C;&#xB825;&#xC744; discard &#xD560;&#xB54C; &#xC0AC;&#xC6A9;&#xB429;&#xB2C8;&#xB2E4;.
AAA, BBB &#xB77C;&#xC778;&#xC774; discard &#xB418;&#xC5B4; &#xCD9C;&#xB825;&#xB418;&#xC9C0; &#xC54A;&#xB294; &#xAC83;&#xC744; &#xBCFC; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.
&#xC774;&#xB54C; &#xCD9C;&#xB825;&#xB9CC; discard &#xB418;&#xB294; &#xAC83;&#xC774;&#xC9C0; &#xB0B4;&#xC6A9;&#xC911; &#xB9E4;&#xD06C;&#xB85C;&#xB294; &#xC815;&#xC0C1;&#xC801;&#xC73C;&#xB85C; &#xC2E4;&#xD589;&#xB418;&#xBBC0;&#xB85C; 
foo &#xB9E4;&#xD06C;&#xB85C;&#xAC00; &#xC815;&#xC758;&#xB418;&#xC5B4; 100 &#xC774; &#xCD9C;&#xB825;&#xB429;&#xB2C8;&#xB2E4;.</li>
</ul>
<pre><code># divert             # order              # append              # discard

$ m4 &lt;&lt;\@            $ m4 &lt;&lt;\@            $ m4 &lt;&lt;\@             $ m4 &lt;&lt;\@
111111111            111111111            divert(4)dnl          111111111
divert(1)dnl         divert(3)dnl         AAAAAAAAA             divert(-1)dnl
AAAAAAAAA            AAAAAAAAA            divert(0)dnl          AAAAAAAAA
BBBBBBBBB            divert(2)dnl         111111111             define(foo, 100)
divert(0)dnl         BBBBBBBBB            divert(4)dnl          BBBBBBBBB
222222222            divert(0)dnl         BBBBBBBBB             divert(0)dnl
@                    222222222            divert(0)dnl          222222222
                     @                    222222222             foo
111111111                                 @                     @
222222222            111111111                                  
AAAAAAAAA            222222222            111111111             111111111
BBBBBBBBB            BBBBBBBBB            222222222             222222222
                     AAAAAAAAA            AAAAAAAAA             100 
                                          BBBBBBBBB
</code></pre><p>&#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC774; <code>divert(-1)</code> &#xB97C; &#xD65C;&#xC6A9;&#xD558;&#xBA74; comment &#xC640; &#xB9E4;&#xD06C;&#xB85C;&#xB97C; define &#xD560; &#xB54C; &#xC0DD;&#xC131;&#xB418;&#xB294; trailing newline &#xB4E4;&#xC774; &#xCD9C;&#xB825;&#xC5D0;&#xC11C; &#xC81C;&#xC678;&#xB429;&#xB2C8;&#xB2E4;.
&#xB9C8;&#xC9C0;&#xB9C9; forloop &#xB9E4;&#xD06C;&#xB85C; &#xD655;&#xC7A5; &#xACB0;&#xACFC;&#xB97C; &#xBCF4;&#xBA74; &#xACF5;&#xBC31; &#xB77C;&#xC778;&#xC774; &#xD558;&#xB098;&#xB3C4; &#xC0DD;&#xC131;&#xB418;&#xC9C0; &#xC54A;&#xB294; &#xAC83;&#xC744; &#xBCFC; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.</p>
<pre><code>$ m4 &lt;&lt;\@
divert(`-1&apos;)
# forloop(var, from, to, stmt) - improved version:
#   works even if VAR is not a strict macro name
#   performs sanity check that FROM is larger than TO
#   allows complex numerical expressions in TO and FROM
define(`forloop&apos;, `ifelse(eval(`($2) &lt;= ($3)&apos;), `1&apos;,
  `pushdef(`$1&apos;)_$0(`$1&apos;, eval(`$2&apos;),
    eval(`$3&apos;), `$4&apos;)popdef(`$1&apos;)&apos;)&apos;)
define(`_forloop&apos;,
  `define(`$1&apos;, `$2&apos;)$4`&apos;ifelse(`$2&apos;, `$3&apos;, `&apos;,
    `$0(`$1&apos;, incr(`$2&apos;), `$3&apos;, `$4&apos;)&apos;)&apos;)
divert`&apos;dnl                                    # divert`&apos;dnl &#xC740; divert(0)dnl &#xACFC; &#xAC19;&#xC740;&#xAC83;&#xC784;
forloop(`x&apos;, 1, 5, `[x] &apos;)
@
[1] [2] [3] [4] [5]
</code></pre><h2 id="undivert">undivert</h2>
<blockquote>
<p><strong>undivert</strong><br><strong>undivert</strong> ( <em>Number . . .</em> )<br><strong>undivert</strong> ( <em>File . . .</em> )  </p>
</blockquote>
<p>undivert &#xB294; divert &#xB85C; &#xC800;&#xC7A5;&#xD574;&#xB193;&#xC740; &#xC601;&#xC5ED;&#xC744; &#xD604;&#xC7AC; divert &#xC601;&#xC5ED;&#xC73C;&#xB85C; &#xCD9C;&#xB825;&#xD560; &#xB54C; &#xC0AC;&#xC6A9;&#xD569;&#xB2C8;&#xB2E4;.
&#xADF8;&#xB7EC;&#xB2C8;&#xAE4C; <code>divert(3)</code> &#xC73C;&#xB85C; &#xC800;&#xC7A5;&#xD574;&#xB193;&#xC740; &#xC601;&#xC5ED;&#xC744; normal output stream &#xC73C;&#xB85C; &#xCD9C;&#xB825;&#xD558;&#xB824;&#xBA74;
&#xBA3C;&#xC800; <code>divert(0)</code> &#xC744; &#xD55C; &#xD6C4;&#xC5D0; <code>undivert(3)</code> &#xD574;&#xC57C; &#xD558;&#xB294; &#xAC83;&#xC785;&#xB2C8;&#xB2E4;.
( &#xBB3C;&#xB860; &#xD604;&#xC7AC; divert(0) &#xC774;&#xBA74; &#xBA3C;&#xC800; divert(0) &#xD560; &#xD544;&#xC694;&#xB294; &#xC5C6;&#xC2B5;&#xB2C8;&#xB2E4; ).
&#xB610;&#xD55C; <code>divert(3)</code> &#xC601;&#xC5ED;&#xC744; <code>divert(2)</code> &#xC601;&#xC5ED;&#xC73C;&#xB85C; &#xCD9C;&#xB825;&#xD560; &#xC218;&#xB3C4; &#xC788;&#xB294;&#xB370;
&#xC774;&#xB54C;&#xB3C4; &#xBA3C;&#xC800; <code>divert(2)</code> &#xB85C; &#xBCC0;&#xACBD;&#xD55C; &#xD6C4;&#xC5D0; <code>undivert(3)</code> &#xD558;&#xBA74; &#xB429;&#xB2C8;&#xB2E4;.</p>
<p>&#xBC88;&#xD638;&#xB294; &#xC5EC;&#xB7EC; &#xAC1C;&#xB97C; &#xC785;&#xB825;&#xD560; &#xC218; &#xC788;&#xACE0; &#xC785;&#xB825;&#xB41C; &#xC21C;&#xC11C;&#xC5D0; &#xB530;&#xB77C;&#xC11C; &#xCD9C;&#xB825;&#xB429;&#xB2C8;&#xB2E4;.
<code>()</code> &#xC5C6;&#xC774; <code>undivert</code> &#xD558;&#xBA74; &#xD604;&#xC7AC; &#xC800;&#xC7A5;&#xB418;&#xC5B4; &#xC788;&#xB294; &#xBAA8;&#xB4E0; divert &#xC601;&#xC5ED;&#xC744; &#xCD9C;&#xB825;&#xD569;&#xB2C8;&#xB2E4;.
&#xD55C;&#xBC88; undivert &#xD558;&#xBA74; &#xD574;&#xB2F9; &#xC601;&#xC5ED;&#xC740; empty &#xAC00; &#xB418;&#xBBC0;&#xB85C; &#xB2E4;&#xC2DC; &#xCD9C;&#xB825;&#xD560; &#xC218; &#xC5C6;&#xC2B5;&#xB2C8;&#xB2E4;.</p>
<blockquote>
<p>undivert &#xC2DC; &#xB9E4;&#xD06C;&#xB85C; &#xD655;&#xC7A5;&#xC740; &#xBC1C;&#xC0DD;&#xD558;&#xC9C0; &#xC54A;&#xC2B5;&#xB2C8;&#xB2E4;.</p>
</blockquote>
<pre><code class="lang-sh">undivert(<span class="hljs-number">1</span>)           dump buffer <span class="hljs-comment">#1 to the current data stream</span>
undivert(<span class="hljs-number">2</span>)           dump buffer <span class="hljs-comment">#2 to the current data stream</span>
undivert(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)       dump buffer <span class="hljs-comment">#3, #1, #2 to the current data stream</span>
undivert              dumps all buffers <span class="hljs-keyword">in</span> numeric order
</code></pre>
<pre><code>$ m4 &lt;&lt;\@            $ m4 &lt;&lt;\@             $ m4 &lt;&lt;\@             $ m4 &lt;&lt;\@
111111111            111111111             111111111             111111111
divert(3)dnl         divert(3)dnl          divert(3)dnl          divert(3)dnl
AAAAAAAAA            AAAAAAAAA             AAAAAAAAA             AAAAAAAAA
divert(2)dnl         divert(2)dnl          divert(2)dnl          divert(2)dnl
BBBBBBBBB            BBBBBBBBB             BBBBBBBBB             BBBBBBBBB
divert(1)dnl         divert(1)dnl          undivert(3)dnl        divert(1)dnl
CCCCCCCCC            CCCCCCCCC             divert(1)dnl          CCCCCCCCC
divert(0)dnl         divert(0)dnl          CCCCCCCCC             divert(0)dnl
222222222            undivert(3,1,2)dnl    divert(0)dnl          undivert`&apos;dnl
@                    222222222             undivert(2,1)dnl      222222222
                     @                     222222222             @
111111111                                  @                     
222222222            111111111                                   111111111
CCCCCCCCC            AAAAAAAAA             111111111             CCCCCCCCC
BBBBBBBBB            CCCCCCCCC             BBBBBBBBB             BBBBBBBBB
AAAAAAAAA            BBBBBBBBB             AAAAAAAAA             AAAAAAAAA
                     222222222             CCCCCCCCC             222222222
                                           222222222
</code></pre><h4 id="divert-&#xC601;&#xC5ED;-&#xC0AD;&#xC81C;">divert &#xC601;&#xC5ED; &#xC0AD;&#xC81C;</h4>
<p>&#xC800;&#xC7A5;&#xD574;&#xB193;&#xC740; divert &#xC601;&#xC5ED;&#xC744; &#xC0AD;&#xC81C;&#xD558;&#xB824;&#xBA74; &#xBA3C;&#xC800; <code>divert(-1)</code> &#xB85C; &#xBCC0;&#xACBD;&#xD55C; &#xD6C4;&#xC5D0; <code>undivert</code> &#xD558;&#xBA74; &#xB429;&#xB2C8;&#xB2E4;.</p>
<blockquote>
<p><code>divert(0)</code> &#xC601;&#xC5ED;&#xC740; &#xC0AD;&#xC81C;&#xB418;&#xC9C0; &#xC54A;&#xC2B5;&#xB2C8;&#xB2E4;.</p>
</blockquote>
<pre><code>$ m4 &lt;&lt;\@            $ m4 &lt;&lt;\@             $ m4 &lt;&lt;\@             $ m4 &lt;&lt;\@      
111111111            111111111             111111111             111111111
divert(3)dnl         divert(3)dnl          divert(3)dnl          divert(3)dnl
AAAAAAAAA            AAAAAAAAA             AAAAAAAAA             AAAAAAAAA
divert(2)dnl         divert(2)dnl          divert(2)dnl          divert(2)dnl
BBBBBBBBB            BBBBBBBBB             BBBBBBBBB             BBBBBBBBB
divert(1)dnl         divert(1)dnl          divert(1)dnl          divert(-1)dnl
CCCCCCCCC            CCCCCCCCC             CCCCCCCCC             undivert(3)
divert(0)dnl         divert(0)dnl          divert(0)dnl          divert(1)dnl
222222222            222222222             222222222             CCCCCCCCC
@                    divert(-1)dnl         divert(-1)dnl         divert(0)dnl
                     undivert              undivert(3,2)         222222222
111111111            @                     @                     @
222222222                                                        
CCCCCCCCC            111111111             111111111             111111111
BBBBBBBBB            222222222             222222222             222222222
AAAAAAAAA                                  CCCCCCCCC             CCCCCCCCC
                                                                 BBBBBBBBB
</code></pre><h4 id="&#xD65C;&#xC6A9;-&#xC608;&#xC81C;-">&#xD65C;&#xC6A9; &#xC608;&#xC81C; )</h4>
<pre><code>$ m4 &lt;&lt;\EOF
divert(-1)

m4 has multiple output queues that can be manipulated with the
`divert&apos; macro. Valid queues range from 0 to 10, inclusive, with
the default queue being 0. As an extension, GNU m4 supports more
diversions, limited only by integer type size.

Calling the `divert&apos; macro with an invalid queue causes text to be
discarded until another call.  Note that even while output is being
discarded, quotes around `divert&apos; and other macros are needed to
prevent expansion.

# Macros aren&apos;t expanded within comments, meaning that keywords such
# as divert and other built-ins may be used without consequence.

# HTML utility macro:

define(`H2_COUNT&apos;, 0)

# The H2_COUNT macro is redefined every time the H2 macro is used:

define(`H2&apos;,
    `define(`H2_COUNT&apos;, incr(H2_COUNT))&lt;h2&gt;H2_COUNT. $1&lt;/h2&gt;&apos;)

divert(1)dnl
dnl
dnl The dnl macro causes m4 to discard the rest of the line, thus
dnl preventing unwanted blank lines from appearing in the output.
dnl
H2(First Section)
H2(Second Section)
H2(Conclusion)
dnl
divert(0)dnl
dnl
&lt;HTML&gt;
undivert(1)dnl One of the queues is being pushed to output.
&lt;/HTML&gt;
EOF
--------------------------

&lt;HTML&gt;
&lt;h2&gt;1. First Section&lt;/h2&gt;
&lt;h2&gt;2. Second Section&lt;/h2&gt;
&lt;h2&gt;3. Conclusion&lt;/h2&gt;
&lt;/HTML&gt;
</code></pre><p><a name="undivert-include"></a></p>
<h4 id="undivert-&#xB97C;-&#xC774;&#xC6A9;&#xD55C;-&#xD30C;&#xC77C;-include">undivert &#xB97C; &#xC774;&#xC6A9;&#xD55C; &#xD30C;&#xC77C; include</h4>
<p>undivert &#xB97C; &#xC774;&#xC6A9;&#xD574; &#xD30C;&#xC77C;&#xB3C4; include &#xD560; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.
&#xAE30;&#xBCF8;&#xC801;&#xC73C;&#xB85C; undivert &#xC2DC;&#xC5D0;&#xB294; &#xB9E4;&#xD06C;&#xB85C; &#xD655;&#xC7A5;&#xC774; &#xC548;&#xB418;&#xBBC0;&#xB85C; &#xBB38;&#xC790; &#xADF8;&#xB300;&#xB85C; &#xD30C;&#xC77C; &#xB0B4;&#xC6A9;&#xC774; include &#xB429;&#xB2C8;&#xB2E4;.</p>
<pre><code>undivert(`foo.txt&apos;)              dump file `foo.txt&apos; to the current data stream
undivert(`foo.txt&apos;,`bar.txt&apos;)    dump file `foo.txt&apos;, `bar.txt&apos; . . .
</code></pre><pre><code>$ cat /usr/share/doc/m4/examples/incl.m4       # include &#xC5D0; &#xC0AC;&#xC6A9;&#xB418;&#xB294; &#xD30C;&#xC77C;
Include file start
foo
Include file end
---------------------------------------

$ m4 &lt;&lt;\@ -I /usr/share/doc/m4/examples
define(`foo&apos;, `hello include&apos;)dnl
include(`incl.m4&apos;)dnl                      # include &#xB9E4;&#xD06C;&#xB85C;
@

Include file start
hello include                              # foo &#xB9E4;&#xD06C;&#xB85C;&#xAC00; &#xD655;&#xC7A5;&#xB41C;&#xB2E4;.
Include file end
---------------------------------------

$ m4 &lt;&lt;\@ -I /usr/share/doc/m4/examples
define(`foo&apos;, `hello include&apos;)dnl
undivert(`incl.m4&apos;)dnl                     # undivert &#xB9E4;&#xD06C;&#xB85C;
@

Include file start
foo                                        # undivert &#xB294; &#xB9E4;&#xD06C;&#xB85C; &#xD655;&#xC7A5;&#xC774; &#xC548;&#xB41C;&#xB2E4;.
Include file end
</code></pre><p>&#xB9CC;&#xC57D;&#xC5D0; &#xD30C;&#xC77C;&#xC774; &#xC874;&#xC7AC;&#xD558;&#xC9C0; &#xC54A;&#xAC70;&#xB098;, &#xC77D;&#xC744; &#xC218; &#xC5C6;&#xAC70;&#xB098;, &#xB514;&#xB809;&#xD1A0;&#xB9AC; &#xC774;&#xAC70;&#xB098; &#xD560; &#xACBD;&#xC6B0;&#xB294;
stderr &#xB85C; &#xC624;&#xB958; &#xBA54;&#xC2DC;&#xC9C0;&#xAC00; &#xCD9C;&#xB825;&#xB418;&#xACE0; &#xD655;&#xC7A5; &#xACB0;&#xACFC;&#xB294; void &#xAC00; &#xB429;&#xB2C8;&#xB2E4;.
&#xD558;&#xC9C0;&#xB9CC; include &#xB9E4;&#xD06C;&#xB85C;&#xC640; &#xB2EC;&#xB9AC; &#xC885;&#xB8CC; &#xC0C1;&#xD0DC; &#xAC12;&#xC740; <code>0</code> &#xC774; &#xB429;&#xB2C8;&#xB2E4;.</p>
<pre><code>$ m4 &lt;&lt;\@
111111111
undivert(`not_exist.m4&apos;)dnl
222222222
@

111111111
m4:stdin:2: cannot undivert `not_exist.m4&apos;: No such file or directory
222222222

$ echo $?        # &#xC885;&#xB8CC; &#xC0C1;&#xD0DC; &#xAC12;&#xC740; 0 &#xC774;&#xB41C;&#xB2E4;.
0
</code></pre><h2 id="divnum">divnum</h2>
<p><code>divnum</code> built-in &#xB9E4;&#xD06C;&#xB85C;&#xB294; &#xD604;&#xC7AC; divert &#xC601;&#xC5ED; &#xBC88;&#xD638;&#xB97C; &#xBC18;&#xD658;&#xD569;&#xB2C8;&#xB2E4;.</p>
<pre><code>$ m4 &lt;&lt;\@
Initial divnum
divert(1)dnl
Diversion one: divnum
divert(2)dnl
Diversion two: divnum
divert(3)dnl
Diversion three: divnum
@

Initial 0
Diversion one: 1
Diversion two: 2
Diversion three: 3
</code></pre><h3 id="cleardivert-&#xC0AC;&#xC6A9;&#xC790;-&#xC815;&#xC758;-&#xB9E4;&#xD06C;&#xB85C;">cleardivert &#xC0AC;&#xC6A9;&#xC790; &#xC815;&#xC758; &#xB9E4;&#xD06C;&#xB85C;</h3>
<blockquote>
<p><strong>cleardivert</strong><br><strong>cleardivert</strong> ( <em>Number . . .</em> )   </p>
</blockquote>
<p>divert &#xC601;&#xC5ED;&#xC744; &#xC0AD;&#xC81C;&#xD560; &#xB54C; &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC774; &#xB9E4;&#xD06C;&#xB85C;&#xB97C; &#xC815;&#xC758;&#xD574; &#xC0AC;&#xC6A9;&#xD558;&#xBA74; &#xD3B8;&#xB9AC;&#xD569;&#xB2C8;&#xB2E4;.
<code>cleardivert</code> &#xB294; &#xC804;&#xCCB4; divert &#xC601;&#xC5ED;&#xC744; &#xC0AD;&#xC81C;&#xD558;&#xACE0; 
<code>Number</code> &#xC778;&#xC218;&#xB97C; &#xCD94;&#xAC00;&#xD558;&#xBA74; &#xD574;&#xB2F9; &#xC601;&#xC5ED;&#xB9CC; &#xC0AD;&#xC81C;&#xB429;&#xB2C8;&#xB2E4;.</p>
<pre><code>define(`cleardivert&apos;,
    `pushdef(`tmp&apos;, divnum)divert(-1)ifelse($#, 0,
        `undivert`&apos;&apos;, `undivert($@)&apos;)divert(tmp)popdef(`tmp&apos;)&apos;)
</code></pre>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./m4_conditionals_and_loops.html" class="navigation navigation-prev " aria-label="Previous page: Conditionals and Loops"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./m4_input_control.html" class="navigation navigation-next " aria-label="Next page: Input Control"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
